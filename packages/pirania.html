<!DOCTYPE html>
<html>
  
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-language" content="en">

  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>pirania | LibreMesh</title>
  <meta name="description" content="">
  <meta name="author" content="LibreMesh">
  <meta name="theme-color" content="black">    
  <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>

  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
  <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>

  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link rel="canonical" href="/packages/pirania.html">
  <link rel="alternate" type="application/rss+xml" title="LibreMesh" href="/feed.xml">
  <meta name="lang:clipboard.copy" content="Copy to clipboard">      
  <meta name="lang:clipboard.copied" content="Copied to clipboard">
  <meta name="lang:search.language" content="en">
  <meta name="lang:search.pipeline.stopwords" content="True">
  <meta name="lang:search.pipeline.trimmer" content="True">
  <meta name="lang:search.result.none" content="No matching documents">
  <meta name="lang:search.result.one" content="1 matching document">
  <meta name="lang:search.result.other" content="# matching documents">
  <meta name="lang:search.tokenizer" content="[\s\-]+">  
  <link rel="shortcut icon" href="/assets/logo/logo_nano.png"> 

  <link rel="stylesheet" href="/assets/css/font-awesome.min.css">
  <link rel="stylesheet" href="/assets/css/asciidoctor.css">
  <link rel="stylesheet" href="/assets/css/main.css">
  <link rel="stylesheet" href="/assets/css/palette.css">
  <link rel="stylesheet" href="/assets/css/style.css">
  <script src="/assets/js/main.js"></script>


  <body dir="ltr" data-md-color-primary="black" data-md-color-accent="black" class="no-toc">
    
    <svg class="md-svg">
  <defs>
    <path d="M160 304q0 10-3.125 20.5t-10.75 19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75 19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360 304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25 2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75 1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75 0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5 46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z" fill="currentColor"></path>
  </defs>
</svg>

<input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off>
<input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off>
<label class=md-overlay data-md-component=overlay for=__drawer></label> <a href="#pirania" tabindex=1 class=md-skip> Skip to content </a>

<header class=md-header data-md-component=header>
  <nav class="md-header-nav md-grid">
    <div class=md-flex>
      <div class="md-flex__cell md-flex__cell--shrink">
        <a class="md-header-nav__button md-logo" href="" title="LibreMesh">
          <img height="" src="/assets/logo/logo_nano.png" width=""></a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
          <label class="md-icon md-icon--menu md-header-nav__button" for=__drawer></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
          <div class="md-flex__ellipsis md-header-nav__title" data-md-component=title> 
              <span class=md-header-nav__topic><a href="">LibreMesh</a></span>
              <span class=md-header-nav__topic>pirania</span>
          </div>
      </div>

      <!-- lang --> 
      <div class="md-flex__cell md-flex__cell--shrink md-grid">
        <ul style="display: flex" class="lng md-tabs__list">
          
          
          
          
          
            <li class="md-tabs__item " style="padding: 0 .5rem">
              <a href="/packages/pirania.html" class="md-tabs__link en lng-active ">EN</a>
            </li>
          
              </ul>
      </div>
      <!-- fine lang-->

      <div class="md-flex__cell md-flex__cell--shrink">
          
          <label class="md-icon md-icon--search md-header-nav__button" for=__search></label>
          <div class=md-search data-md-component=search role=dialog>
              <label class=md-search__overlay for=__search></label>
              <div class=md-search__inner role=search>
                  <form class=md-search__form name=search>
                      <input type=text class=md-search__input name=query placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=query data-md-state=active>
                      <label class="md-icon md-search__icon" for=__search></label>
                      <button type=reset class="md-icon md-search__icon" data-md-component=reset tabindex=-1> &#xE5CD; </button>
                  </form>
                  <div class=md-search__output>
                      <div class=md-search__scrollwrap data-md-scrollfix>
                          <div class=md-search-result data-md-component=result>
                              <div class=md-search-result__meta> Type to start searching </div>
                              <ol class=md-search-result__list></ol>
                          </div>
                      </div>
                  </div>
              </div>
          </div>
          
      </div>

      <div class="md-flex__cell md-flex__cell--shrink">
        <div class="md-header-nav__source">
          <a class="md-source" data-md-source="github" href="https://github.com/libremesh/lime-packages" title="Go to repository">
          <div class="md-source__icon" style="padding-top:5px">
            <i class="fa-brands fa-github fa-3x"></i>
          </div>
          <div class="md-source__repository">
            libremesh/lime-packages
          </div></a>
        </div>
      </div>
    </div>
    <div class="top-nav md-flex hs no-scrollbar" style="background-color: #333;">
    <ul class="md-tabs__list">

    <!-- Use the current language and default to english if doc translation is not found -->
    
    
    
    <li class="md-tabs__item ">
        <a class="md-tabs__link" href="/">Home</a>
    </li>

    <!-- Use the current language and default to english if doc translation is not found -->
    
    
    
    <li class="md-tabs__item ">
        <a class="md-tabs__link" href="/about.html">About</a>
    </li>

    <!-- Use the current language and default to english if doc translation is not found -->
    
    
    
    <li class="md-tabs__item ">
        <a class="md-tabs__link" href="/news.html">News</a>
    </li>

    <!-- Use the current language and default to english if doc translation is not found -->
    
    
    
    <li class="md-tabs__item ">
        <a class="md-tabs__link" href="/communication.html">Communication</a>
    </li>

    <!-- Use the current language and default to english if doc translation is not found -->
    
    
    
    <li class="md-tabs__item ">
        <a class="md-tabs__link" href="/getit.html">Get it!</a>
    </li>

    <!-- Use the current language and default to english if doc translation is not found -->
    
    
    
    <li class="md-tabs__item ">
        <a class="md-tabs__link" href="/howitworks.html">How it works</a>
    </li>

    <!-- Use the current language and default to english if doc translation is not found -->
    
    
    
    <li class="md-tabs__item ">
        <a class="md-tabs__link" href="/development.html">Development</a>
    </li>

    </ul>

</div>
  </nav>
</header>


    <div class="md-container"> 
        <main class="md-main">
            <div class="md-main__inner md-grid" data-md-component="container">
              <!-- <div class="intersection-rect"></div>     -->

            <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
  <div class="md-sidebar__scrollwrap">
    <div class="md-sidebar__inner">
      <nav class="md-nav md-nav--primary" data-md-level="0">
        <ul class="md-nav__list" data-md-scrollfix="">

          <li class="md-nav__item caption">
  <strong class="text-grey">Documentation</strong>
</li>
<!-- Use the current language and default to english if doc translation is not found -->
 
    
    
    
      <li class="md-nav__item 
        
        ">
      
        <a class="md-nav__link" href="/docs/">
          <i class="fa fa-book" aria-hidden="true"></i>
          <span>LibreMesh Documentation</span>
        </a>
      
      </li>
  
    
    
    
      <li class="md-nav__item 
         md-nav__item--nested 
        ">
      
        <a class="md-nav__link  " style="display:flex;justify-content: space-between;" 
            href="/docs/en_quick_starting_guide.html">
          <div style="display:flex;justify-content: flex-start;">
            <i class="fa fa-rocket" aria-hidden="true"></i>
            <span>Quick Starting Guide</span>
          </div>
          <span style="text-align: right"><i class="fa fa-chevron-right" aria-hidden="true"></i></span>
        </a>
        <ul class="md-nav__list " data-md-scrollfix="">
          
            
            
            
            <li class="md-nav__item ">
              <a class="md-nav__link" href="/docs/en_connecting_nodes.html"> 
                <span>Connecting to LibreMesh nodes</span>
              </a>
            </li>
          
            
            
            
            <li class="md-nav__item ">
              <a class="md-nav__link" href="/docs/quick_start_guide/en_cli_configuration.html"> 
                <span>CLI configuration</span>
              </a>
            </li>
          
          </ul>
      
      </li>
  
    
    
    
      <li class="md-nav__item 
         md-nav__item--nested 
        ">
      
        <a class="md-nav__link  " style="display:flex;justify-content: space-between;" 
            href="/docs/en_config.html">
          <div style="display:flex;justify-content: flex-start;">
            <i class="fa fa-cogs" aria-hidden="true"></i>
            <span>Configuration</span>
          </div>
          <span style="text-align: right"><i class="fa fa-chevron-right" aria-hidden="true"></i></span>
        </a>
        <ul class="md-nav__list " data-md-scrollfix="">
          
            
            
            
            <li class="md-nav__item ">
              <a class="md-nav__link" href="/docs/configuration/faq-and-recommendations.html"> 
                <span>FAQ and recommendations</span>
              </a>
            </li>
          
            
            
            
            <li class="md-nav__item ">
              <a class="md-nav__link" href="/docs/configuration/lime-example.html"> 
                <span>lime-example</span>
              </a>
            </li>
          
          </ul>
      
      </li>
  
    
    
    
      <li class="md-nav__item 
        
        ">
      
        <a class="md-nav__link" href="/docs/en_changing_network_behavior.html">
          <i class="fa fa-ethernet" aria-hidden="true"></i>
          <span>Change Ethernet config</span>
        </a>
      
      </li>
  
    
    
    
      <li class="md-nav__item 
        
        ">
      
        <a class="md-nav__link" href="/docs/en_change_wifi_behavior.html">
          <i class="fa fa-wifi" aria-hidden="true"></i>
          <span>Change WiFi config</span>
        </a>
      
      </li>
  
    
    
    
      <li class="md-nav__item 
        
        ">
      
        <a class="md-nav__link" href="/docs/en_troubleshooting.html">
          <i class="fa fa-wrench" aria-hidden="true"></i>
          <span>Troubleshooting</span>
        </a>
      
      </li>
  
    
    
    
      <li class="md-nav__item 
         md-nav__item--nested 
        ">
      
        <a class="md-nav__link  " style="display:flex;justify-content: space-between;" 
            href="/docs/hardware/">
          <div style="display:flex;justify-content: flex-start;">
            <i class="fa fa-microchip" aria-hidden="true"></i>
            <span>Hardware</span>
          </div>
          <span style="text-align: right"><i class="fa fa-chevron-right" aria-hidden="true"></i></span>
        </a>
        <ul class="md-nav__list " data-md-scrollfix="">
          
            
            
            
            <li class="md-nav__item ">
              <a class="md-nav__link" href="/docs/hardware/tp-link.html"> 
                <span>tp-link</span>
              </a>
            </li>
          
            
            
            
            <li class="md-nav__item ">
              <a class="md-nav__link" href="/docs/hardware/xiaomi-miwifir3.html"> 
                <span>Xiaomi MiWiFi R3</span>
              </a>
            </li>
          
          </ul>
      
      </li>
  
          



  <li class="md-nav__item 
     md-nav__item--nested  
    
    ">
  
    <a class="md-nav__link  " 
    style="display: flex; justify-content: space-between;" 
    href="/development.html">
      <div>
        <i class="fa fa-brands fa-linux" aria-hidden="true"></i>
        <span>Development</span>
      </div>
      <span style="text-align: right"><i class="fa fa-chevron-right" aria-hidden="true"></i></span>
    </a>
    <ul class="md-nav__list " data-md-scrollfix="">
      
        
        
        
        <li class="md-nav__item ">
          <a class="md-nav__link" href="/development-network_profiles.html"> 
            <span>Network Profiles</span>
          </a>
        </li>
      
        
        
        
        <li class="md-nav__item ">
          <a class="md-nav__link" href="/development-kernel_vermagic.html"> 
            <span>Kernel vermagic</span>
          </a>
        </li>
      
      </ul>
  
  </li>

          <li class="md-nav__item md-nav__item--nested 
 md-nav__item--nested-open ">
  <a class="md-nav__link  " 
    style="display: flex; justify-content: space-between" 
    href="/packages/#">
    <div>
      <i class="fa fa-cube" aria-hidden="true"></i>
      <span>Packages</span>
    </div>
    <span style="text-align: right"><i class="fa fa-chevron-right" aria-hidden="true"></i></span>
  </a>
  <ul class="md-nav__list md-nav__list-open " data-md-scrollfix="">
    
      <li class="md-nav__item">
        <a class="md-nav__link" href="/packages/altermundi-grafana.html">
          <span>altermundi-grafana</span>
        </a>
      </li>
    
      <li class="md-nav__item">
        <a class="md-nav__link" href="/packages/auto-usb-wwan.html">
          <span>auto-usb-wwan</span>
        </a>
      </li>
    
      <li class="md-nav__item">
        <a class="md-nav__link" href="/packages/babeld-auto-gw-mode.html">
          <span>babeld-auto-gw-mode</span>
        </a>
      </li>
    
      <li class="md-nav__item">
        <a class="md-nav__link" href="/packages/bandwidth-test.html">
          <span>bandwidth-test</span>
        </a>
      </li>
    
      <li class="md-nav__item">
        <a class="md-nav__link" href="/packages/batman-adv-auto-gw-mode.html">
          <span>batman-adv-auto-gw-mode</span>
        </a>
      </li>
    
      <li class="md-nav__item">
        <a class="md-nav__link" href="/packages/bmx7-auto-gw-bw-mode.html">
          <span>bmx7-auto-gw-bw-mode</span>
        </a>
      </li>
    
      <li class="md-nav__item">
        <a class="md-nav__link" href="/packages/bmx7-auto-gw-mode.html">
          <span>bmx7-auto-gw-mode</span>
        </a>
      </li>
    
      <li class="md-nav__item">
        <a class="md-nav__link" href="/packages/bmx7-mdns.html">
          <span>bmx7-mdns</span>
        </a>
      </li>
    
      <li class="md-nav__item">
        <a class="md-nav__link" href="/packages/check-date-http.html">
          <span>check-date-http</span>
        </a>
      </li>
    
      <li class="md-nav__item">
        <a class="md-nav__link" href="/packages/check-internet.html">
          <span>check-internet</span>
        </a>
      </li>
    
      <li class="md-nav__item">
        <a class="md-nav__link" href="/packages/cotonete.html">
          <span>cotonete</span>
        </a>
      </li>
    
      <li class="md-nav__item">
        <a class="md-nav__link" href="/packages/deferrable-reboot.html">
          <span>deferrable-reboot</span>
        </a>
      </li>
    
      <li class="md-nav__item">
        <a class="md-nav__link" href="/packages/eupgrade.html">
          <span>eupgrade</span>
        </a>
      </li>
    
      <li class="md-nav__item">
        <a class="md-nav__link" href="/packages/first-boot-wizard.html">
          <span>first-boot-wizard</span>
        </a>
      </li>
    
      <li class="md-nav__item">
        <a class="md-nav__link" href="/packages/hotplug-initd-services.html">
          <span>hotplug-initd-services</span>
        </a>
      </li>
    
      <li class="md-nav__item">
        <a class="md-nav__link" href="/packages/packages_list.html">
          <span>packages_list</span>
        </a>
      </li>
    
      <li class="md-nav__item">
        <a class="md-nav__link" href="/packages/lime-ap-watchping.html">
          <span>lime-ap-watchping</span>
        </a>
      </li>
    
      <li class="md-nav__item">
        <a class="md-nav__link" href="/packages/lime-app.html">
          <span>lime-app</span>
        </a>
      </li>
    
      <li class="md-nav__item">
        <a class="md-nav__link" href="/packages/lime-curtigghio.html">
          <span>lime-curtigghio</span>
        </a>
      </li>
    
      <li class="md-nav__item">
        <a class="md-nav__link" href="/packages/lime-debug.html">
          <span>lime-debug</span>
        </a>
      </li>
    
      <li class="md-nav__item">
        <a class="md-nav__link" href="/packages/lime-docs.html">
          <span>lime-docs</span>
        </a>
      </li>
    
      <li class="md-nav__item">
        <a class="md-nav__link" href="/packages/lime-eth-config.html">
          <span>lime-eth-config</span>
        </a>
      </li>
    
      <li class="md-nav__item">
        <a class="md-nav__link" href="/packages/lime-hwd-ground-routing.html">
          <span>lime-hwd-ground-routing</span>
        </a>
      </li>
    
      <li class="md-nav__item">
        <a class="md-nav__link" href="/packages/lime-hwd-openwrt-wan.html">
          <span>lime-hwd-openwrt-wan</span>
        </a>
      </li>
    
      <li class="md-nav__item">
        <a class="md-nav__link" href="/packages/lime-hwd-usbradio.html">
          <span>lime-hwd-usbradio</span>
        </a>
      </li>
    
      <li class="md-nav__item">
        <a class="md-nav__link" href="/packages/lime-hwd-watchcat.html">
          <span>lime-hwd-watchcat</span>
        </a>
      </li>
    
      <li class="md-nav__item">
        <a class="md-nav__link" href="/packages/lime-proto-anygw.html">
          <span>lime-proto-anygw</span>
        </a>
      </li>
    
      <li class="md-nav__item">
        <a class="md-nav__link" href="/packages/lime-proto-babeld.html">
          <span>lime-proto-babeld</span>
        </a>
      </li>
    
      <li class="md-nav__item">
        <a class="md-nav__link" href="/packages/lime-proto-batadv.html">
          <span>lime-proto-batadv</span>
        </a>
      </li>
    
      <li class="md-nav__item">
        <a class="md-nav__link" href="/packages/lime-proto-bgp.html">
          <span>lime-proto-bgp</span>
        </a>
      </li>
    
      <li class="md-nav__item">
        <a class="md-nav__link" href="/packages/lime-proto-bmx7.html">
          <span>lime-proto-bmx7</span>
        </a>
      </li>
    
      <li class="md-nav__item">
        <a class="md-nav__link" href="/packages/lime-proto-olsr.html">
          <span>lime-proto-olsr</span>
        </a>
      </li>
    
      <li class="md-nav__item">
        <a class="md-nav__link" href="/packages/lime-proto-olsr2.html">
          <span>lime-proto-olsr2</span>
        </a>
      </li>
    
      <li class="md-nav__item">
        <a class="md-nav__link" href="/packages/lime-proto-olsr6.html">
          <span>lime-proto-olsr6</span>
        </a>
      </li>
    
      <li class="md-nav__item">
        <a class="md-nav__link" href="/packages/lime-proto-wan.html">
          <span>lime-proto-wan</span>
        </a>
      </li>
    
      <li class="md-nav__item">
        <a class="md-nav__link" href="/packages/lime-report.html">
          <span>lime-report</span>
        </a>
      </li>
    
      <li class="md-nav__item">
        <a class="md-nav__link" href="/packages/lime-smart-wifi.html">
          <span>lime-smart-wifi</span>
        </a>
      </li>
    
      <li class="md-nav__item">
        <a class="md-nav__link" href="/packages/lime-system.html">
          <span>lime-system</span>
        </a>
      </li>
    
      <li class="md-nav__item">
        <a class="md-nav__link" href="/packages/miniserver-client.html">
          <span>miniserver-client</span>
        </a>
      </li>
    
      <li class="md-nav__item md-nav__item--active ">
        <a class="md-nav__link" href="/packages/pirania.html">
          <span>pirania</span>
        </a>
      </li>
    
      <li class="md-nav__item">
        <a class="md-nav__link" href="/packages/prometheus-node-exporter-lua-location-latlon.html">
          <span>prometheus-node-exporter-lua-location-latlon</span>
        </a>
      </li>
    
      <li class="md-nav__item">
        <a class="md-nav__link" href="/packages/prometheus-node-exporter-lua-wifi-params.html">
          <span>prometheus-node-exporter-lua-wifi-params</span>
        </a>
      </li>
    
      <li class="md-nav__item">
        <a class="md-nav__link" href="/packages/prometheus-node-exporter-lua-wifi-stations-extra.html">
          <span>prometheus-node-exporter-lua-wifi-stations-extra</span>
        </a>
      </li>
    
      <li class="md-nav__item">
        <a class="md-nav__link" href="/packages/prometheus-node-exporter-lua-wifi-survey.html">
          <span>prometheus-node-exporter-lua-wifi-survey</span>
        </a>
      </li>
    
      <li class="md-nav__item">
        <a class="md-nav__link" href="/packages/prometheus-node-push-influx.html">
          <span>prometheus-node-push-influx</span>
        </a>
      </li>
    
      <li class="md-nav__item">
        <a class="md-nav__link" href="/packages/random-numgen.html">
          <span>random-numgen</span>
        </a>
      </li>
    
      <li class="md-nav__item">
        <a class="md-nav__link" href="/packages/safe-reboot.html">
          <span>safe-reboot</span>
        </a>
      </li>
    
      <li class="md-nav__item">
        <a class="md-nav__link" href="/packages/safe-upgrade.html">
          <span>safe-upgrade</span>
        </a>
      </li>
    
      <li class="md-nav__item">
        <a class="md-nav__link" href="/packages/shared-state-async.html">
          <span>shared-state-async</span>
        </a>
      </li>
    
      <li class="md-nav__item">
        <a class="md-nav__link" href="/packages/shared-state-babel_links_info.html">
          <span>shared-state-babel_links_info</span>
        </a>
      </li>
    
      <li class="md-nav__item">
        <a class="md-nav__link" href="/packages/shared-state-babeld_hosts.html">
          <span>shared-state-babeld_hosts</span>
        </a>
      </li>
    
      <li class="md-nav__item">
        <a class="md-nav__link" href="/packages/shared-state-bat_hosts.html">
          <span>shared-state-bat_hosts</span>
        </a>
      </li>
    
      <li class="md-nav__item">
        <a class="md-nav__link" href="/packages/shared-state-bat_links_info.html">
          <span>shared-state-bat_links_info</span>
        </a>
      </li>
    
      <li class="md-nav__item">
        <a class="md-nav__link" href="/packages/shared-state-dnsmasq_hosts.html">
          <span>shared-state-dnsmasq_hosts</span>
        </a>
      </li>
    
      <li class="md-nav__item">
        <a class="md-nav__link" href="/packages/shared-state-dnsmasq_leases.html">
          <span>shared-state-dnsmasq_leases</span>
        </a>
      </li>
    
      <li class="md-nav__item">
        <a class="md-nav__link" href="/packages/shared-state-dnsmasq_servers.html">
          <span>shared-state-dnsmasq_servers</span>
        </a>
      </li>
    
      <li class="md-nav__item">
        <a class="md-nav__link" href="/packages/shared-state-network_nodes.html">
          <span>shared-state-network_nodes</span>
        </a>
      </li>
    
      <li class="md-nav__item">
        <a class="md-nav__link" href="/packages/shared-state-node_info.html">
          <span>shared-state-node_info</span>
        </a>
      </li>
    
      <li class="md-nav__item">
        <a class="md-nav__link" href="/packages/shared-state-nodes_and_links.html">
          <span>shared-state-nodes_and_links</span>
        </a>
      </li>
    
      <li class="md-nav__item">
        <a class="md-nav__link" href="/packages/shared-state-persist.html">
          <span>shared-state-persist</span>
        </a>
      </li>
    
      <li class="md-nav__item">
        <a class="md-nav__link" href="/packages/shared-state-pirania.html">
          <span>shared-state-pirania</span>
        </a>
      </li>
    
      <li class="md-nav__item">
        <a class="md-nav__link" href="/packages/shared-state-ref_state_commons.html">
          <span>shared-state-ref_state_commons</span>
        </a>
      </li>
    
      <li class="md-nav__item">
        <a class="md-nav__link" href="/packages/shared-state-wifi_links_info.html">
          <span>shared-state-wifi_links_info</span>
        </a>
      </li>
    
      <li class="md-nav__item">
        <a class="md-nav__link" href="/packages/shared-state.html">
          <span>shared-state</span>
        </a>
      </li>
    
      <li class="md-nav__item">
        <a class="md-nav__link" href="/packages/soporteremoto.html">
          <span>soporteremoto</span>
        </a>
      </li>
    
      <li class="md-nav__item">
        <a class="md-nav__link" href="/packages/sprunge.html">
          <span>sprunge</span>
        </a>
      </li>
    
      <li class="md-nav__item">
        <a class="md-nav__link" href="/packages/ubus-lime-batman-adv.html">
          <span>ubus-lime-batman-adv</span>
        </a>
      </li>
    
      <li class="md-nav__item">
        <a class="md-nav__link" href="/packages/ubus-lime-groundrouting.html">
          <span>ubus-lime-groundrouting</span>
        </a>
      </li>
    
      <li class="md-nav__item">
        <a class="md-nav__link" href="/packages/ubus-lime-location.html">
          <span>ubus-lime-location</span>
        </a>
      </li>
    
      <li class="md-nav__item">
        <a class="md-nav__link" href="/packages/ubus-lime-metrics.html">
          <span>ubus-lime-metrics</span>
        </a>
      </li>
    
      <li class="md-nav__item">
        <a class="md-nav__link" href="/packages/ubus-lime-openairview.html">
          <span>ubus-lime-openairview</span>
        </a>
      </li>
    
      <li class="md-nav__item">
        <a class="md-nav__link" href="/packages/ubus-lime-utils.html">
          <span>ubus-lime-utils</span>
        </a>
      </li>
    
      <li class="md-nav__item">
        <a class="md-nav__link" href="/packages/ubus-tmate.html">
          <span>ubus-tmate</span>
        </a>
      </li>
    
      <li class="md-nav__item">
        <a class="md-nav__link" href="/packages/watchping.html">
          <span>watchping</span>
        </a>
      </li>
    
      <li class="md-nav__item">
        <a class="md-nav__link" href="/packages/wifi-unstuck-wa.html">
          <span>wifi-unstuck-wa</span>
        </a>
      </li>
    
  </ul>
</li>
          <li class="md-nav__item caption">
    <strong class="text-grey">Links</strong>
</li>
<li class="md-nav__item">
    <a class="md-nav__link" href="https://downloads.libremesh.org/current/">
    <div>
        <i class="fa fa-download" aria-hidden="true"></i>
        <span>Latest Release Firmware</span>
    </div>
    </a>
</li>
<li class="md-nav__item">
    <a class="md-nav__link" href="https://github.com/libremesh/">
    <div>
        <i class="fa fa-code-fork" aria-hidden="true"></i>
        <span>Source Code</span>
    </div>
    </a>
</li>
<li class="md-nav__item">
    <a class="md-nav__link" href="https://www.autistici.org/mailman/listinfo/libremesh">
    <div>
        <i class="fa fa-envelope" aria-hidden="true"></i>
        <span>Mailing List</span>
    </div>
    </a>
</li>
<li class="md-nav__item">
    <a class="md-nav__link" href="https://matrix.to/#/#libremesh-dev:matrix.guifi.net">
    <div>
        <i class="fa fa-comments" aria-hidden="true"></i>
        <span>Element Chatroom</span>
    </div>
    </a>
</li>
      
        </ul>
      </nav>
    </div>
  </div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
  <div class="md-sidebar__scrollwrap">
    <div class="md-sidebar__inner">
      <nav class="md-nav md-nav--secondary">
        <p class="md-nav__title text-grey">Table of contents</p>
        <!-- toc will be appended here!-->
        <ul class="md-nav__list" id="nav_toc"><li class="md-nav__item"><a href="#readme" class="md-nav__link">Readme</a></li><li class="md-nav__item"><a href="#makefile" class="md-nav__link">Makefile</a></li></ul>
        </ul>
      </nav>
    </div>
  </div>
</div>

                <div id="md-container-pancakes">
                <div class="md-content"> 
    <article class="md-content__inner md-typeset">
      <h1 id="pirania" style="margin-bottom:0px">pirania</h1>
      <a href="https://github.com/libremesh/lime-packages/blob/master/packages/pirania">https://github.com/libremesh/lime-packages/blob/master/packages/pirania</a>

<div class="packages-container">
<div class="sect1">
<h2 id="readme">Readme</h2>
<div class="sectionbody">
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>![PIRANHA](<a href="https://i.imgur.com/kHWUNOu.png" class="bare">https://i.imgur.com/kHWUNOu.png</a>)</p>
</div>
<div class="paragraph">
<p>## Voucher and Captive Portal solution for community networks</p>
</div>
<div class="paragraph">
<p>This tool allows an administrator to manage a voucher system to get through the gateway.</p>
</div>
<div class="paragraph">
<p>It could be used in a community that wants to share an Internet connection and for that the user&#8217;s pay a fraction each, but needs the payment from everyone. So the vouchers allows to control the payments via the control of the access to Internet.</p>
</div>
<div class="paragraph">
<p>Additionally vouchers usage can be deactivated in order to use<br>
the captive portal only to show valuable information for network<br>
visitors.<br>
## Features</p>
</div>
<div class="paragraph">
<p>This are the currently implemented features:<br>
  * Runs directly from the OpenWRT/LEDE router: no need for extra hardware<br>
  * Integrates it&#8217;s administration with Ubus and LiMe App<br>
  * Has a command-line interface for listing, creating and removing vouchers<br>
  * Voucher database is shared among nodes in the network<br>
  * Portal "splash" screen content (logo, title, main text, etc)<br>
  is distributed accross the network.<br>
  * Can be used without vouchers.<br>
## Prerequisites</p>
</div>
<div class="paragraph">
<p>This software assumes that will be running on a OpenWRT/LEDE distribution (because uses uci for config). Needs <code>nftables</code> and <code>ipset</code> packages installed.</p>
</div>
<div class="paragraph">
<p>## Install</p>
</div>
<div class="ulist">
<ul>
<li>
<p>add the libremesh software feed to opkg</p>
</li>
<li>
<p>opkg install pirania</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>## Command line</p>
</div>
<div class="paragraph">
<p><code>epoc</code> is expressed in [Unix Timestamp](<a href="https://en.wikipedia.org/wiki/Unix_time" class="bare">https://en.wikipedia.org/wiki/Unix_time</a>) format. You can use a tool like [unixtimestamp.com](<a href="https://www.unixtimestamp.com/" class="bare">https://www.unixtimestamp.com/</a>) to get a date in the correct format.</p>
</div>
<div class="paragraph">
<p><mark>#</mark> <code>captive_portal status</code></p>
</div>
<div class="paragraph">
<p>Prints the status of pirania: enabled or disabled.</p>
</div>
<div class="paragraph">
<p><mark>#</mark> <code>captive_portal start</code></p>
</div>
<div class="paragraph">
<p>Starts pirania. If you want pirania to automatically turn on use: <code>uci set pirania.base_config.enabled=1 &amp;&amp; uci commit</code></p>
</div>
<div class="paragraph">
<p><mark>#</mark> <code>captive_portal stop</code></p>
</div>
<div class="paragraph">
<p>Stops pirania. If you want pirania to stop automatically turning on use: <code>uci set pirania.base_config.enabled=0 &amp;&amp; uci commit</code></p>
</div>
<div class="paragraph">
<p><mark>#</mark># <code>voucher list</code></p>
</div>
<div class="paragraph">
<p>Lists all the vouchers.</p>
</div>
<div class="paragraph">
<p><mark>#</mark> <code>voucher list_active</code></p>
</div>
<div class="paragraph">
<p>List all the vouchers that are currently active.</p>
</div>
<div class="paragraph">
<p><mark>#</mark> <code>voucher add</code></p>
</div>
<div class="paragraph">
<p>Create a new voucher. This voucher will start deactivated and not bonded to any device.</p>
</div>
<div class="paragraph">
<p>Params:<br>
- <code>name</code>: a name used to identify the voucher<br>
- <code>duration-m</code>: duration of the voucher in minutes. If no value is provided a permanent voucher will be created.<br>
The duration takes affect when the voucher is activated.<br>
- <code>activation-deadline</code>: after this date (unix time) the voucher cannot be activated.</p>
</div>
<div class="paragraph">
<p>To create a 60 minutes voucher<br>
Ex.: <code>voucher add my-voucher-name 60</code></p>
</div>
<div class="paragraph">
<p><mark>#</mark> <code>voucher activate</code></p>
</div>
<div class="paragraph">
<p>Activates a voucher, asigning a mac address. After the activation, the device with this MAC<br>
address will have internet access.</p>
</div>
<div class="paragraph">
<p>Params:<br>
- <code>secret-code</code>: the password of the voucher.<br>
- <code>mac</code>: the MAC address of the device that will have access.</p>
</div>
<div class="paragraph">
<p>Ex: <code>voucher activate mysecret 00:11:22:33:44:55</code></p>
</div>
<div class="paragraph">
<p><mark>#</mark> <code>voucher deactivate</code></p>
</div>
<div class="paragraph">
<p>Deactivate a voucher of the specified <code>ID</code>.</p>
</div>
<div class="paragraph">
<p>Params:<br>
- <code>ID</code>: a string used to identify the voucher.</p>
</div>
<div class="paragraph">
<p>Ex: <code>voucher deactivate Qzt3WF</code></p>
</div>
<div class="paragraph">
<p><mark>#</mark> <code>voucher remove_voucher</code></p>
</div>
<div class="paragraph">
<p>Invalidates a voucher by changing it&#8217;s expire date to 0.</p>
</div>
<div class="paragraph">
<p>Params:<br>
- <code>voucher</code>: voucher secret</p>
</div>
<div class="paragraph">
<p>Ex.: <code>voucher remove_voucher voucher-secret</code></p>
</div>
<div class="paragraph">
<p><mark>#</mark> <code>voucher is_mac_authorized</code></p>
</div>
<div class="paragraph">
<p>Check if a specific mac address is authorized.</p>
</div>
<div class="paragraph">
<p>Params:<br>
- <code>mac</code>: a device&#8217;s mac address</p>
</div>
<div class="paragraph">
<p>Ex.: <code>voucher is_mac_authorized d0:82:7a:49:e2:37</code></p>
</div>
<div class="paragraph">
<p><mark>#</mark> <code>voucher renew_voucher</code></p>
</div>
<div class="paragraph">
<p>Change the expiration date of a voucher.</p>
</div>
<div class="paragraph">
<p>Params:<br>
- <code>id</code>: the voucher ID.<br>
- <code>expiration-date</code>: the new date (unix time) that the voucher will expire</p>
</div>
<div class="paragraph">
<p>Ex.: <code>voucher renew_voucher Qzt3WF 1619126965</code></p>
</div>
<div class="paragraph">
<p># How it works</p>
</div>
<div class="paragraph">
<p>It uses iptables rules to filter inbound connections outside the mesh network.</p>
</div>
<div class="paragraph">
<p>## General overview of file hierarchy and function</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>files/
    /etc/config/pirania is the UCI config
    /etc/pirania/vouchers/ (default path) contains the database of vouchers
    /etc/init.d/pirania-uhttpd starts a uhttpd on port 59080 that replies any request with a redirect towards a preset URL

    /usr/lib/lua/voucher/ contains lua libraries used by /usr/bin/voucher
    /usr/bin/voucher is a CLI to manage the db (has functions list, list_active, show_authorized_macs, add, activate, deactivate and is_mac_authorized)
    /usr/bin/captive-portal sets up iptables rules to capture traffic

    /usr/libexec/rpcd/pirania ubus pirania API (this is used by the web frontend)
    /usr/share/rpcd/acl.d/pirania.json ACL for the ubus pirania API

    /etc/shared-state/publishers/shared-state-publish_vouchers inserts into shared-state the local voucher db
    /etc/shared-state/hooks/pirania/generate_vouchers bring updated or new vouchers from the shared-state database into the local voucher db

    /usr/lib/lua/read_for_access contains the library used by
    /usr/lib/lua/portal to manage access  in read for access mode (aka without vouchers)</code></pre>
</div>
</div>
<div class="paragraph">
<p>## CLI usage example</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>$ voucher list
$ voucher add san-notebook 60
Q3TJZS	san-notebook	ZRJUXN	xx:xx:xx:xx:xx:xx	Wed Sep  8 23:47:40 2021	60	           -            	1
$ voucher list
Q3TJZS	san-notebook	ZRJUXN	xx:xx:xx:xx:xx:xx	Wed Sep  8 23:47:40 2021	60	           -            	1
$ voucher list_active
$ voucher activate ZRJUXN 00:11:22:33:44:55
Voucher activated!
$ voucher list
Q3TJZS	san-notebook	ZRJUXN	00:11:22:33:44:55	Wed Sep  8 23:47:40 2021	60	Thu Sep  9 00:48:33 2021	2

$ voucher list_active
Q3TJZS	san-notebook	ZRJUXN	00:11:22:33:44:55	Wed Sep  8 23:47:40 2021	60	Thu Sep  9 00:48:33 2021	2

$ voucher deactivate Q3TJZS
ok
$ voucher list_active
$ voucher list
Q3TJZS	san-notebook	ZRJUXN	xx:xx:xx:xx:xx:xx	Wed Sep  8 23:47:40 2021	60	           -            	3</code></pre>
</div>
</div>
<div class="paragraph">
<p>## ubus API</p>
</div>
<div class="ulist">
<ul>
<li>
<p>enable() &#8594; calls to <code>captive-portal start</code> and enables it in the config</p>
</li>
<li>
<p>disable() &#8594; calls to <code>captive-portal stop</code> and disables it in the config</p>
</li>
<li>
<p>show_url() &#8594; return config <code>pirania.base_config.portal_url</code></p>
</li>
<li>
<p>change_url(url) &#8594; change config <code>pirania.base_config.portal_url</code></p>
</li>
<li>
<p>&#8230;&#8203;</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>## Under the hood</p>
</div>
<div class="paragraph">
<p><mark>#</mark> Trafic capture<br>
<code>/usr/bin/captive-portal</code> sets up iptables rules to capture traffic.<br>
It creates a set of rules that apply to 3 allowed "ipsets":<br>
* pirania-auth-macs: authorized macs go into this rule. starts empty.<br>
* pirania-allowlist-ipv4: with the members of the allowlist in the config file (10.0.0.0/8, 192.168.0.0/16, 172.16.0.0/12)<br>
* pirania-allowlist-ipv6: same as ipv4 but for ipv6</p>
</div>
<div class="paragraph">
<p>Rules:<br>
* DNS packets, that are not from the allowed ipsets, are redirected to our own captive portal DNS at 59053<br>
* HTTP packets, that are not from the allowed ipsets, are redirected to our own captive portal HTTP at 59080<br>
* packets from the allowed ipsets are allowed<br>
* the rest of the packets are rejeted (drop and send an error to the client)</p>
</div>
<div class="paragraph">
<p><mark>#</mark> HTTP flow</p>
</div>
<div class="paragraph">
<p><code>/etc/init.d/pirania-uhttpd</code> starts a HTTP server (uhttpd) on port 59080 that replies any request with a redirect towards a preset URL.<br>
 - In case that voucher usage is activated: <code>pirania.base_config.url_auth</code>.<br>
 - Otherwise: <code>pirania.read_for_access.url_portal</code><br>
This is performed by the lua script <code>/www/pirania-redirect/redirect</code>. As both url are in the allowlist ip range (<a href="http://thisnode.info/portal/" class="bare">http://thisnode.info/portal/</a> by default) then the "normal" HTTP server listening in port 80 will answer after the redirect.</p>
</div>
<div class="paragraph">
<p>So the flow when using vouchers is:<br>
* navigate to a non allowed ip: for example <code><a href="http://orignal.org/baz/?foo=bar" class="bare">http://orignal.org/baz/?foo=bar</a></code><br>
* get redirected with a 302 where you can put a voucher code to enter: <code><a href="http://thisnode.info/cgi-bin/portal/auth.html?prev=http%3A%2F%2Foriginal.org%2Fbaz%2F%3Ffoo%3Dbar" class="bare">http://thisnode.info/cgi-bin/portal/auth.html?prev=http%3A%2F%2Foriginal.org%2Fbaz%2F%3Ffoo%3Dbar</a></code><br>
* submiting the form should perform a GET to <code><a href="http://thisnode.info/cgi-bin/pirania/preactivate_voucher?voucher=secretcode&amp;prev=http%3A%2F%2Foriginal.org%2Fbaz%2F%3Ffoo%3Dbar" class="bare">http://thisnode.info/cgi-bin/pirania/preactivate_voucher?voucher=secretcode&amp;prev=http%3A%2F%2Foriginal.org%2Fbaz%2F%3Ffoo%3Dbar</a></code><br>
* The preactivate_voucher script does two different depending on javascript support:<br>
    * If nojs=true then the voucher is activated with the client MAC (taken from the ARP table with its IP) and the voucher code. If the activation succeeds it redirects to <code>url_authenticated</code>.<br>
    * If nojs=false there is a check if the voucher code would be valid (there is an unused and valid voucher with that code). If the voucher would be valid then a redirect to the portal INFO page(<code>pirania.base_config.url_info</code>) is performed with the voucher code as param url. The portal info shows the updated information of the community and there is a time that you have to wait to be able to continue (This is done with JS). When the timer reaches 0 you can click in continue. This redirects now to <code><a href="http://thisnode.info/cgi-bin/pirania/activate_voucher?voucher=secretcode" class="bare">http://thisnode.info/cgi-bin/pirania/activate_voucher?voucher=secretcode</a></code>. The <code>activate_voucher</code> script does the voucher activation. then it redirects to <code>url_authenticated</code>. If the code fails it will redirect to <code><a href="http://thisnode.info/cgi-bin/portal/fail.html" class="bare">http://thisnode.info/cgi-bin/portal/fail.html</a></code> that is identical to auth.html but with an error message.</p>
</div>
<div class="paragraph">
<p>The flow without using vouchers (read for access mode) is:<br>
* navigate to a non allowed ip: for example <code><a href="http://orignal.org/baz/?foo=bar" class="bare">http://orignal.org/baz/?foo=bar</a></code><br>
* get redirected with a 302 to: <code><a href="http://thisnode.info/cgi-bin/portal/read_for_access.html?prev=http%3A%2F%2Foriginal.org%2Fbaz%2F%3Ffoo%3Dbar" class="bare">http://thisnode.info/cgi-bin/portal/read_for_access.html?prev=http%3A%2F%2Foriginal.org%2Fbaz%2F%3Ffoo%3Dbar</a></code><br>
* Once there if the client has js support then a countdown of 15 seconds is shown and when it reaches 0 the user can click on continue, which sends a GET request to <code><a href="http://minodo.info/cgi-bin/pirania/authorize_mac?prev=http%3A%2F%2Foriginal.org%2Fbaz%2F%3Ffoo%3Dbar" class="bare">http://minodo.info/cgi-bin/pirania/authorize_mac?prev=http%3A%2F%2Foriginal.org%2Fbaz%2F%3Ffoo%3Dbar</a></code><br>
which will trigger a redirection to <code>prev</code> url.<br>
* If there the client has no js support, then the buttonis enabled inmediately, and after clicking in continue a redirection to <code>url_authenticated</code> is triggered.</p>
</div>
</blockquote>
</div>
</div>
</div>
<div class="sect1">
<h2 id="makefile">Makefile</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="make"><span class="k">include</span><span class="sx"> ../../libremesh.mk</span>

<span class="k">define</span> <span class="nv">Package/$(PKG_NAME)</span>
  <span class="nv">SUBMENU</span><span class="o">:=</span>Captive Portals
  <span class="nv">SECTION</span><span class="o">:=</span>net
  <span class="nv">CATEGORY</span><span class="o">:=</span>Network
  <span class="nv">MAINTAINER</span><span class="o">:=</span>Asociación Civil AlterMundi &lt;info@altermundi.net&gt;
  <span class="nv">TITLE</span><span class="o">:=</span>Captive portal with vouchers.
  <span class="nv">DEPENDS</span><span class="o">:=</span>+ip6tables-mod-nat +ipset +shared-state +shared-state-pirania <span class="se">\</span>
	+uhttpd-mod-lua +lime-system +luci-lib-jsonc <span class="se">\</span>
	+liblucihttp-lua +luci-lib-nixio +libubus-lua +libuci-lua
  <span class="nv">PKGARCH</span><span class="o">:=</span>all
<span class="k">endef</span>

<span class="k">define</span> <span class="nv">Package/$(PKG_NAME)/description</span>
	<span class="err">Captive</span> <span class="err">Portal</span> <span class="err">for</span> <span class="err">routers</span> <span class="err">that</span> <span class="err">want</span> <span class="err">to</span> <span class="err">share</span> <span class="err">their</span> <span class="err">Internet</span> <span class="err">connection</span> <span class="err">via</span> <span class="err">vouchers.</span>
<span class="k">endef</span>

<span class="nf">$(</span><span class="nb">eval</span> <span class="p">$(</span>call BuildPackage,<span class="p">$(</span>PKG_NAME<span class="p">)))</span></code></pre>
</div>
</div>
</div>
</div>
</div>
      <script src="/assets/js/jquery.js"></script>

<script>
$(document).ready(function() {

    var toc = $('#nav-toc');

    // Select each header
    sections = $('#md-container-pancakes h2');
        $.each(sections, function(idx, v) {
            section = $(v);
            // console.log(section)

            var div_id = $(section).attr('id');
            var div_text = section.text().split('¶')[0];
            var parent = $("#" + div_id)
            var content = '<li id="link_' + div_id + '" class="md-nav__item"><a class="md-nav__link" href="#' + div_id + '" title="' + div_text +'">' + div_text +'</a></li>';
            $(toc).append(content);

            // Add section code to subnavigation
            var children = $('<nav class="md-nav"><ul class="md-nav__list"></nav></ul>')
            var contenders = $("#" + div_id).nextUntil( "h2" );
            $.each(contenders, function(idx, contender){
               if($(contender).is('h2')) {
                   var contender_id = $(contender).attr('id');
                   var contender_text = $(contender).text().split('¶')[0];
                   var content = '<li class="md-nav__item"><a class="md-nav__link" href="#' + contender_id + '" title="' + contender_text +'">' + contender_text +'</a></li>';
                   children.append(content);
                }
             })
             $("#link_" + div_id).append(children);
        });

    });
</script>

      <!-- this will parse through the header fields and add a button to open
     an issue / ask a question on Github. The editable field should be in
     the post frontend matter, and refer to the label to open the issue for -->

<style>
.more {
    float:right;
    font-size: 1.2rem !important;
}
.more:hover {
    color: cornflowerblue !important;
}

.dropdown {
    position: relative;
    display: inline-block;
}

.dropdown i { font-size: 1.6rem !important;}

.dropdown-content {
    display: none;
    position: absolute;
    background-color: #f9f9f9;
    min-width: 160px;
    font-weight: 200;
    box-shadow: 0px 8px 6px 0px rgba(0,0,0,0.2);
    padding: 0px 10px;
    z-index: 1;
    
}

.dropdown:hover .dropdown-content {
    display: block;
}
</style>
<script>
$(document).ready(function() {

    var divs = $("#h1,h2,h3,h4"); 
    $.each(divs, function(i,e){

        // Edit
        var did = $(e).attr('id');
        var start = '<div class="dropdown more"><span><i class="fa fa-ellipsis-h more" title="Edit"></i></span><div class="dropdown-content">';

        // Edit (assuming deployed under main organization repo)
        var link = "https://github.com/libremesh/libremesh.github.io/edit/master/packages/pirania.txt#" + did;
        var button = "<p><a href='" + link + "' target='_blank'>Edit this page</a></p>";
        start += button;

        // Issues;
        var link = "https://github.com/libremesh/libremesh.github.io/issues/new?labels=question&title=Question:&body=Question on: https://github.com/libremesh/libremesh.github.io/tree/master/packages/pirania.txt%23" + did;

        var button = "<p><a href='" + link + "' target='_blank'>Ask a Question</a></p>";
        start += button;
        start += "</div></div>";
        $(e).append(start)

    })
});
</script>

    </article>
</div>      

                </div>
            </div>
        </main>
    </div>
    <footer class="c-footer md-footer-nav">
  <div class="u-container c-footer__container">
    <nav class="md-footer-nav__inner md-grid">
         
      </nav>
    </div>
  
   <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2025 - LibreMesh
          </div>        
      </div>
      
        
  <div class="md-footer-social">
    <!-- <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"> -->
      <a href="https://github.com/libremesh" target="_blank" class="md-footer-social__link fa-brands fa-github"></a>
      <a href="https://matrix.to/#/#libremesh-dev:matrix.guifi.net" target="_blank" class="md-footer-social__link fa fa-comments"></a>
      <a href="https://www.autistici.org/mailman/listinfo/libremesh" target="_blank" class="md-footer-social__link fa fa-envelope"></a>
      
  </div>

    </div>
  </div>

</footer>


    <script>
  var headers = ["h1", "h2", "h3", "h4"]
  var colors = ["var(--color-primary)", "orange", "green", "blue"]
  
  $.each(headers, function(i, header){
    //   var color = colors[i];
      var color = colors[0];
      $(header).each(function () {
          var href=$(this).attr("id");
          $(this).append('<a class="headerlink" style="color:' + color + '" href="#' + href + '" title="Permanent link">¶</a>')
      });
  })
  
  </script>
  
    

  </body>
</html>
